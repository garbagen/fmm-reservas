<!DOCTYPE html>
<html>
<head>
    <title>Heritage Site Bookings</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <h1>Heritage Sites</h1>
    </div>

    <div class="search-filter-container">
        <input 
            type="text" 
            id="site-search" 
            class="search-bar" 
            placeholder="Search heritage sites..."
        >
        <div class="filter-controls">
            <select id="time-filter" class="filter-select">
                <option value="all">All Times</option>
                <option value="morning">Morning (6AM-12PM)</option>
                <option value="afternoon">Afternoon (12PM-5PM)</option>
                <option value="evening">Evening (After 5PM)</option>
            </select>
        </div>
    </div>
    <div class="sites-container">
        <!-- Site card template - This is just for reference, actual cards are generated by JavaScript -->
        <template id="site-card-template">
            <div class="site-card">
                <div class="site-image">
                    <img src="${site.imageUrl || '/placeholder-image.jpg'}" alt="${site.name}">
                </div>
                <h2>${site.name}</h2>
                <p>${site.description}</p>
                <div class="time-slots">
                    <!-- Time slots will be populated dynamically -->
                </div>
                <button class="book-button">Book Visit</button>
            </div>
        </template>
    </div>

    <div class="form-overlay" onclick="closeBookingForm()"></div>

    <div id="booking-form" class="hidden">
        <div style="text-align: right;">
            <button onclick="closeBookingForm()" class="close-button">âœ•</button>
        </div>
        
        <div id="booking-calendar"></div>
        
        <h2>Make a Booking</h2>
        <form id="visitor-booking-form" onsubmit="submitBooking(event)">
            <div class="form-group">
                <label for="name">Your Name *</label>
                <div class="input-wrapper">
                    <input 
                        type="text" 
                        id="name" 
                        name="name" 
                        required 
                        onblur="window.formValidation.validateVisitorName(this)"
                    >
                    <span class="validation-icon"></span>
                </div>
                <div class="error-message"></div>
            </div>
            
            <div class="form-group">
                <label for="date">Visit Date *</label>
                <div class="input-wrapper">
                    <input 
                        type="date" 
                        id="date" 
                        name="date" 
                        required 
                        onchange="loadTimeSlots(); window.formValidation.validateBookingDate(this)"
                    >
                    <span class="validation-icon"></span>
                </div>
                <div class="error-message"></div>
            </div>
            
            <div class="form-group">
                <label for="time-slot">Time Slot *</label>
                <select 
                    id="time-slot" 
                    name="timeSlot" 
                    required 
                    onchange="window.formValidation.validateRequired(this)"
                >
                    <option value="">Select a time</option>
                </select>
                <div class="error-message"></div>
            </div>
    
            <button type="submit" id="submit-button" class="submit-button">
                <span id="button-text">Confirm Booking</span>
                <div id="spinner" class="spinner hidden"></div>
            </button>
        </form>
    </div>

    <div class="nav-links" style="text-align: center; margin-top: 20px;">
        <a href="login.html">Admin Dashboard</a>
    </div>
    
    <div class="toast-container" id="toast-container"></div>

    <!-- Scripts - Order is important -->
    <script src="utils/calendar.js"></script>
    <script src="utils/validation.js"></script>
    <script src="utils/datetime.js"></script>
    <script src="utils/toast.js"></script>
    <script src="script.js"></script>
</body>
</html>